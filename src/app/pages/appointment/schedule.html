<div class="space-y-6 animate-fade-in">
  <!-- Page Header -->
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
    <div>
      <h1 class="text-2xl sm:text-3xl font-bold text-gray-900">
        Schedule Appointment
      </h1>
      <p class="text-gray-600 mt-1">Schedule a new appointment for visitors</p>
    </div>
    <div class="mt-4 sm:mt-0 flex items-center space-x-2">
      <button
        routerLink="/appointment/view"
        class="flex items-center space-x-2 px-4 py-2 rounded-xl bg-gradient-to-r from-green-600 to-emerald-600 text-white hover:from-green-700 hover:to-emerald-700 transition-all duration-300 transform hover:scale-105"
      >
        <i class="fas fa-eye"></i>
        <span>View Appointments</span>
      </button>
    </div>
  </div>

  <!-- Important Notes Card -->
  <div class="glass-effect rounded-xl p-6 border-l-4 border-blue-500">
    <div class="flex items-start space-x-3">
      <div class="flex-shrink-0">
        <div
          class="w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center"
        >
          <i class="fas fa-info-circle text-blue-600"></i>
        </div>
      </div>
      <div class="flex-1">
        <h3 class="text-lg font-semibold text-gray-900 mb-3">
          Important Guidelines
        </h3>
        <ul class="space-y-2 text-sm text-gray-700">
          <li class="flex items-start space-x-2">
            <i class="fas fa-check-circle text-green-500 mt-0.5"></i>
            <span>Ensure there is a clear business purpose to the visit</span>
          </li>
          <li class="flex items-start space-x-2">
            <i class="fas fa-check-circle text-green-500 mt-0.5"></i>
            <span
              >Verify visitor nationality and forward passport/visa copies for
              non-Indian nationals</span
            >
          </li>
          <li class="flex items-start space-x-2">
            <i class="fas fa-check-circle text-green-500 mt-0.5"></i>
            <span
              >Ensure visitor signs EAR declaration form and receives visitor
              guide</span
            >
          </li>
          <li class="flex items-start space-x-2">
            <i class="fas fa-check-circle text-green-500 mt-0.5"></i>
            <span
              >Accompany visitor at all times while inside the facility</span
            >
          </li>
          <li class="flex items-start space-x-2">
            <i class="fas fa-check-circle text-green-500 mt-0.5"></i>
            <span
              >Ensure no access to technical information or
              photography/videography</span
            >
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Appointment Form -->
  <div class="glass-effect rounded-xl p-6 lg:p-8">
    <form
      [formGroup]="appointmentForm"
      (ngSubmit)="onSubmit()"
      class="space-y-6"
    >
      <!-- Visitor Type Selection -->
      <div class="space-y-4">
        <h3
          class="text-lg font-semibold text-gray-900 flex items-center space-x-2"
        >
          <i class="fas fa-user-tag text-blue-500"></i>
          <span>Visitor Type</span>
        </h3>

        <div class="flex flex-wrap gap-4">
          <label class="flex items-center space-x-2 cursor-pointer">
            <input
              type="radio"
              name="visitorType"
              value="new"
              formControlName="visitorType"
              class="w-4 h-4 text-blue-600 focus:ring-blue-500"
            />
            <span class="text-gray-700 font-medium">New Visitor</span>
          </label>
          <label class="flex items-center space-x-2 cursor-pointer">
            <input
              type="radio"
              name="visitorType"
              value="existing"
              formControlName="visitorType"
              class="w-4 h-4 text-blue-600 focus:ring-blue-500"
            />
            <span class="text-gray-700 font-medium">Existing Visitor</span>
          </label>
        </div>
      </div>

      <!-- Plant and Department Selection -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <div class="space-y-4">
          <h3
            class="text-lg font-semibold text-gray-900 flex items-center space-x-2"
          >
            <i class="fas fa-building text-green-500"></i>
            <span>Plant Selection *</span>
          </h3>

          <div class="grid grid-cols-2 gap-3">
            <label
              class="flex items-center space-x-2 cursor-pointer p-3 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors"
            >
              <input
                type="checkbox"
                [checked]="false"
                (change)="onPlantCheckboxChange($event)"
                value="TASL"
                class="w-4 h-4 text-blue-600 focus:ring-blue-500"
              />
              <span class="text-gray-700 font-medium">TASL</span>
            </label>
            <label
              class="flex items-center space-x-2 cursor-pointer p-3 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors"
            >
              <input
                type="checkbox"
                [checked]="false"
                (change)="onPlantCheckboxChange($event)"
                value="TSAL"
                class="w-4 h-4 text-blue-600 focus:ring-blue-500"
              />
              <span class="text-gray-700 font-medium">TSAL</span>
            </label>
            <label
              class="flex items-center space-x-2 cursor-pointer p-3 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors"
            >
              <input
                type="checkbox"
                [checked]="false"
                (change)="onPlantCheckboxChange($event)"
                value="TLMAL"
                class="w-4 h-4 text-blue-600 focus:ring-blue-500"
              />
              <span class="text-gray-700 font-medium">TLMAL</span>
            </label>
            <label
              class="flex items-center space-x-2 cursor-pointer p-3 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors"
            >
              <input
                type="checkbox"
                [checked]="false"
                (change)="onPlantCheckboxChange($event)"
                value="TBAL"
                class="w-4 h-4 text-blue-600 focus:ring-blue-500"
              />
              <span class="text-gray-700 font-medium">TBAL</span>
            </label>
            <label
              class="flex items-center space-x-2 cursor-pointer p-3 rounded-lg border border-gray-200 hover:border-blue-300 transition-colors"
            >
              <input
                type="checkbox"
                [checked]="false"
                (change)="onPlantCheckboxChange($event)"
                value="TCOE"
                class="w-4 h-4 text-blue-600 focus:ring-blue-500"
              />
              <span class="text-gray-700 font-medium">TCOE</span>
            </label>
          </div>
        </div>

        <div class="space-y-4">
          <h3
            class="text-lg font-semibold text-gray-900 flex items-center space-x-2"
          >
            <i class="fas fa-sitemap text-purple-500"></i>
            <span>Department *</span>
          </h3>

          <select
            formControlName="department"
            class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
          >
            <option value="">Select Department</option>
            <option value="IT">Information Technology</option>
            <option value="HR">Human Resources</option>
            <option value="Finance">Finance</option>
            <option value="Operations">Operations</option>
            <option value="Sales">Sales</option>
            <option value="Marketing">Marketing</option>
          </select>
        </div>
      </div>

      <!-- Visitor Information -->
      <div class="space-y-4">
        <h3
          class="text-lg font-semibold text-gray-900 flex items-center space-x-2"
        >
          <i class="fas fa-user text-orange-500"></i>
          <span>Visitor Information</span>
        </h3>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label
              for="visitorName"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Visitor Name *</label
            >
            <input
              type="text"
              id="visitorName"
              formControlName="visitorName"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
              placeholder="Enter visitor name"
            />
          </div>

          <div>
            <label
              for="company"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Company *</label
            >
            <input
              type="text"
              id="company"
              formControlName="company"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
              placeholder="Enter company name"
            />
          </div>

          <div>
            <label
              for="mobileNo"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Mobile Number *</label
            >
            <input
              type="tel"
              id="mobileNo"
              formControlName="mobileNo"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
              placeholder="Enter mobile number"
            />
          </div>

          <div>
            <label
              for="visitorEmail"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Email ID *</label
            >
            <input
              type="email"
              id="visitorEmail"
              formControlName="visitorEmail"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
              placeholder="Enter email address"
            />
          </div>

          <div>
            <label
              for="nationality"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Nationality *</label
            >
            <select
              id="nationality"
              formControlName="nationality"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
            >
              <option value="">Select Nationality</option>
              <option value="Indian">Indian</option>
              <option value="American">American</option>
              <option value="British">British</option>
              <option value="German">German</option>
              <option value="French">French</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <div>
            <label
              for="designation"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Designation</label
            >
            <select
              id="designation"
              formControlName="designation"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
            >
              <option value="">Select Designation</option>
              <option value="Manager">Manager</option>
              <option value="Director">Director</option>
              <option value="Engineer">Engineer</option>
              <option value="Consultant">Consultant</option>
              <option value="Analyst">Analyst</option>
            </select>
          </div>
          <div>
            <label
              for="profession"
              class="block text-sm font-medium text-gray-700 mb-2"
            >Profession</label>
            <input
              type="text"
              id="profession"
              formControlName="profession"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
              placeholder="Enter profession"
            />
          </div>
          <div>
            <label for="typeOfVisitor" class="block text-sm font-medium text-gray-700 mb-2">Type of Visitor</label>
            <select
              id="typeOfVisitor"
              formControlName="typeOfVisitor"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
            >
              <option value="">Select Type</option>
              <option value="Customer">Customer</option>
              <option value="Supplier">Supplier</option>
              <option value="Local Authority">Local Authority</option>
              <option value="Government Official">Government Official</option>
              <option value="Consulate">Consulate</option>
              <option value="Employee Relatives / Personal / Guest">Employee Relatives / Personal / Guest</option>
              <option value="Regulatory / Statutory">Regulatory / Statutory</option>
              <option value="Armed Officer">Armed Officer</option>
              <option value="Others">Others</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Appointment Details -->
      <div class="space-y-4">
        <h3
          class="text-lg font-semibold text-gray-900 flex items-center space-x-2"
        >
          <i class="fas fa-calendar-alt text-indigo-500"></i>
          <span>Appointment Details</span>
        </h3>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label
              for="appointmentWith"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Appointment With *</label
            >
            <input
              type="text"
              id="appointmentWith"
              formControlName="appointmentWith"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
              placeholder="Enter name of person for appointment"
            />
          </div>

          <div>
            <label
              for="appointmentFromDate"
              class="block text-sm font-medium text-gray-700 mb-2"
              >From Date *</label
            >
            <input
              type="date"
              id="appointmentFromDate"
              formControlName="appointmentFromDate"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
            />
          </div>

          <div>
            <label
              for="appointmentToDate"
              class="block text-sm font-medium text-gray-700 mb-2"
              >To Date *</label
            >
            <input
              type="date"
              id="appointmentToDate"
              formControlName="appointmentToDate"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
            />
          </div>

          <div>
            <label
              for="appointmentTime"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Appointment Time *</label
            >
            <input
              type="time"
              id="appointmentTime"
              formControlName="appointmentTime"
              value="12:00"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
            />
          </div>

          <div>
            <label
              for="purposeOfVisit"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Purpose of Visit</label
            >
            <select
              id="purposeOfVisit"
              formControlName="purposeOfVisit"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
            >
              <option value="">Select Purpose</option>
              <option value="Business Meeting">Business Meeting</option>
              <option value="Training">Training</option>
              <option value="Consultation">Consultation</option>
              <option value="Inspection">Inspection</option>
              <option value="Other">Other</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Host Information -->
      <div class="space-y-4">
        <h3
          class="text-lg font-semibold text-gray-900 flex items-center space-x-2"
        >
          <i class="fas fa-user-tie text-teal-500"></i>
          <span>Host Information</span>
        </h3>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label
              for="hostName"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Host Name *</label
            >
            <input
              type="text"
              id="hostName"
              formControlName="hostName"
              value="Admin"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
              placeholder="Enter host name"
            />
          </div>

          <div>
            <label
              for="hostContact"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Host Contact Number *</label
            >
            <input
              type="tel"
              id="hostContact"
              formControlName="hostContact"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
              placeholder="Enter host contact"
            />
          </div>

          <div>
            <label
              for="numberOfVisitors"
              class="block text-sm font-medium text-gray-700 mb-2"
            >Number of Visitors *</label>
            <input
              type="number"
              id="numberOfVisitors"
              formControlName="numberOfVisitors"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
              placeholder="Enter number of visitors"
              min="1"
            />
          </div>

          <div>
            <label
              for="additionalPerson"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Additional Visitors</label
            >
            <input
              type="text"
              id="additionalPerson"
              formControlName="additionalPerson"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
              placeholder="Enter additional visitors"
            />
          </div>
        </div>
      </div>

      <!-- Items Carried -->
      <div class="space-y-4">
        <h3
          class="text-lg font-semibold text-gray-900 flex items-center space-x-2"
        >
          <i class="fas fa-briefcase text-amber-500"></i>
          <span>Items Carried</span>
        </h3>

        <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
          <div>
            <label
              for="device"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Device</label
            >
            <input
              type="text"
              id="device"
              formControlName="device"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
              placeholder="e.g., Laptop, Phone"
            />
          </div>

          <div>
            <label
              for="maker"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Maker</label
            >
            <input
              type="text"
              id="maker"
              formControlName="maker"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
              placeholder="e.g., Apple, Dell"
            />
          </div>

          <div>
            <label
              for="serialNo"
              class="block text-sm font-medium text-gray-700 mb-2"
              >Serial No.</label
            >
            <input
              type="text"
              id="serialNo"
              formControlName="serialNo"
              class="w-full px-4 py-3 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200"
              placeholder="Enter serial number"
            />
          </div>

          <div class="flex items-end">
            <button
              type="button"
              (click)="addItem()"
              class="w-full flex items-center justify-center space-x-2 px-4 py-3 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white hover:from-blue-700 hover:to-indigo-700 transition-all duration-300 transform hover:scale-105"
            >
              <i class="fas fa-plus"></i>
              <span>Add Item</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Submit Buttons -->
      <div class="flex flex-col sm:flex-row gap-4 pt-6">
        <button
          type="submit"
          [disabled]="appointmentForm.invalid || isSubmitting"
          class="flex-1 flex items-center justify-center space-x-2 px-6 py-3 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium hover:from-blue-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300 transform hover:scale-105"
        >
          <i *ngIf="isSubmitting" class="fas fa-spinner fa-spin"></i>
          <i *ngIf="!isSubmitting" class="fas fa-calendar-plus"></i>
          <span>{{
            isSubmitting ? "Scheduling..." : "Schedule Appointment"
          }}</span>
        </button>

        <button
          type="button"
          (click)="resetForm()"
          class="flex-1 flex items-center justify-center space-x-2 px-6 py-3 rounded-xl border border-gray-300 text-gray-700 font-medium hover:bg-gray-50 transition-all duration-300"
        >
          <i class="fas fa-undo"></i>
          <span>Reset Form</span>
        </button>
      </div>
    </form>
  </div>
</div>
