<div class="space-y-6 animate-fade-in">
  <!-- Page Header -->
  <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
    <div>
      <h1 class="text-2xl sm:text-3xl font-bold text-gray-900">
        Monthly Visitor List
      </h1>
      <p class="text-gray-600 mt-1">
        View and filter monthly visitor records
      </p>
    </div>
    <div class="mt-4 sm:mt-0 flex items-center space-x-2">
      <div class="flex items-center space-x-2 px-4 py-2 rounded-xl bg-orange-100 text-orange-800">
        <i class="fas fa-calendar-alt text-orange-600"></i>
        <span class="font-medium">{{ totalItems }} Records</span>
      </div>
    </div>
  </div>

  <!-- Filter/Search Bar -->
  <div class="glass-effect rounded-xl p-6">
    <form [formGroup]="dateRangeForm" class="space-y-4">
      <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4">
        <div class="flex flex-col sm:flex-row sm:items-center gap-4">
          <div class="flex items-center space-x-3">
            <label for="fromDate" class="text-sm font-medium text-gray-700">From Date</label>
            <input type="date" id="fromDate" formControlName="fromDate" class="px-4 py-2 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200" />
          </div>
          <div class="flex items-center space-x-3">
            <label for="toDate" class="text-sm font-medium text-gray-700">To Date</label>
            <input type="date" id="toDate" formControlName="toDate" class="px-4 py-2 rounded-xl border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200" />
          </div>
          <button type="button" class="px-4 py-2 rounded-xl bg-blue-600 text-white hover:bg-blue-700 transition-all duration-300 font-medium">Search</button>
        </div>
        <div class="flex flex-col sm:flex-row gap-3">
          <button type="button" class="flex items-center justify-center space-x-2 px-4 py-2 rounded-xl bg-gradient-to-r from-green-600 to-emerald-600 text-white hover:from-green-700 hover:to-emerald-700 transition-all duration-300 transform hover:scale-105">
            <i class="fas fa-file-excel"></i>
            <span>Export Excel</span>
          </button>
          <button type="button" class="flex items-center justify-center space-x-2 px-4 py-2 rounded-xl bg-gradient-to-r from-red-600 to-pink-600 text-white hover:from-red-700 hover:to-pink-700 transition-all duration-300 transform hover:scale-105">
            <i class="fas fa-file-pdf"></i>
            <span>Export PDF</span>
          </button>
        </div>
      </div>
    </form>
  </div>

  <!-- Monthly Visitor Table -->
  <div class="glass-effect rounded-xl overflow-hidden">
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Sr.No.</th>
            <th class="px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Visitor Name</th>
            <th class="px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Company Name</th>
            <th class="px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">In Date Time</th>
            <th class="px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Whom To Meet</th>
            <th class="px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Phone No</th>
            <th class="px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Check Out Time</th>
            <th class="px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Purpose Of Visit</th>
            <th class="px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Nationality</th>
          </tr>
          <!-- Filter/Search Bar Row -->
          <tr class="bg-gray-50" [formGroup]="filterForm">
            <td class="px-6 py-3">
              <div class="relative">
                <input type="text" placeholder="Filter Sr.No." formControlName="srNo" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 text-sm" />
                <button *ngIf="filterForm.get('srNo')?.value" (click)="filterForm.get('srNo')?.setValue('')" type="button" class="absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-gray-600">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </td>
            <td class="px-6 py-3">
              <div class="relative">
                <input type="text" placeholder="Filter Name" formControlName="visitorName" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 text-sm" />
                <button *ngIf="filterForm.get('visitorName')?.value" (click)="filterForm.get('visitorName')?.setValue('')" type="button" class="absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-gray-600">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </td>
            <td class="px-6 py-3">
              <div class="relative">
                <input type="text" placeholder="Filter Company" formControlName="companyName" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 text-sm" />
                <button *ngIf="filterForm.get('companyName')?.value" (click)="filterForm.get('companyName')?.setValue('')" type="button" class="absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-gray-600">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </td>
            <td class="px-6 py-3">
              <div class="relative">
                <input type="text" placeholder="Filter In Date Time" formControlName="inDateTime" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 text-sm" />
                <button *ngIf="filterForm.get('inDateTime')?.value" (click)="filterForm.get('inDateTime')?.setValue('')" type="button" class="absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-gray-600">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </td>
            <td class="px-6 py-3">
              <div class="relative">
                <input type="text" placeholder="Filter Whom To Meet" formControlName="whomToMeet" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 text-sm" />
                <button *ngIf="filterForm.get('whomToMeet')?.value" (click)="filterForm.get('whomToMeet')?.setValue('')" type="button" class="absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-gray-600">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </td>
            <td class="px-6 py-3">
              <div class="relative">
                <input type="text" placeholder="Filter Phone" formControlName="phoneNo" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 text-sm" />
                <button *ngIf="filterForm.get('phoneNo')?.value" (click)="filterForm.get('phoneNo')?.setValue('')" type="button" class="absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-gray-600">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </td>
            <td class="px-6 py-3">
              <div class="relative">
                <input type="text" placeholder="Filter Check Out Time" formControlName="checkOutTime" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 text-sm" />
                <button *ngIf="filterForm.get('checkOutTime')?.value" (click)="filterForm.get('checkOutTime')?.setValue('')" type="button" class="absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-gray-600">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </td>
            <td class="px-6 py-3">
              <div class="relative">
                <input type="text" placeholder="Filter Purpose" formControlName="purposeOfVisit" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 text-sm" />
                <button *ngIf="filterForm.get('purposeOfVisit')?.value" (click)="filterForm.get('purposeOfVisit')?.setValue('')" type="button" class="absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-gray-600">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </td>
            <td class="px-6 py-3">
              <div class="relative">
                <input type="text" placeholder="Filter Nationality" formControlName="nationality" class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 text-sm" />
                <button *ngIf="filterForm.get('nationality')?.value" (click)="filterForm.get('nationality')?.setValue('')" type="button" class="absolute inset-y-0 right-0 px-3 flex items-center text-gray-400 hover:text-gray-600">
                  <i class="fas fa-times"></i>
                </button>
              </div>
            </td>
            <td class="px-6 py-3">
              <span class="text-sm text-gray-500">Photo</span>
            </td>
            <td class="px-6 py-3">
              <select class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 text-sm">
                <option>All</option>
                <option>Checked In</option>
                <option>Checked Out</option>
              </select>
            </td>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          <tr *ngIf="filteredVisitors.length === 0">
            <td colspan="10" class="px-6 py-16 text-center">
              <div class="flex flex-col items-center space-y-3">
                <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center">
                  <i class="fas fa-users text-gray-400 text-3xl"></i>
                </div>
                <div>
                  <p class="text-gray-500 font-semibold text-lg">No visitors found</p>
                  <p class="text-gray-400 text-sm">No visitors match your criteria</p>
                </div>
              </div>
            </td>
          </tr>
          <tr *ngFor="let visitor of filteredVisitors; let i = index">
            <td class="px-6 py-4 whitespace-nowrap">{{ i + 1 }}</td>
            <td class="px-6 py-4 whitespace-nowrap">{{ visitor.visitorName }}</td>
            <td class="px-6 py-4 whitespace-nowrap">{{ visitor.companyName }}</td>
            <td class="px-6 py-4 whitespace-nowrap">{{ visitor.inDateTime }}</td>
            <td class="px-6 py-4 whitespace-nowrap">{{ visitor.whomToMeet }}</td>
            <td class="px-6 py-4 whitespace-nowrap">{{ visitor.phoneNo }}</td>
            <td class="px-6 py-4 whitespace-nowrap">{{ visitor.checkOutTime }}</td>
            <td class="px-6 py-4 whitespace-nowrap">{{ visitor.purposeOfVisit }}</td>
            <td class="px-6 py-4 whitespace-nowrap">{{ visitor.nationality }}</td>
            <td class="px-6 py-4 whitespace-nowrap">
              <img *ngIf="visitor.visitorImage" [src]="visitor.visitorImage" alt="Visitor Image" class="h-10 w-10 object-cover border rounded-full shadow-sm" />
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div> 